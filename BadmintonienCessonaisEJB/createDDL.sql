CREATE TABLE CATEGORIE (ID VARCHAR(36), LIBELLE VARCHAR(255), LIBELLECOURT VARCHAR(255), VERSION BIGINT, PRIMARY KEY (ID))
CREATE TABLE ECHEANCIER (IDECHEANCIER BIGINT NOT NULL, HORAIRE DATETIME, VERSION BIGINT, TOURNOI_IDTOURNOI BIGINT, MATCH_IDMATCH BIGINT, PRIMARY KEY (IDECHEANCIER))
CREATE TABLE MATCHS (IDMATCH BIGINT NOT NULL, VERSION BIGINT, EQUIPE1_IDEQUIPE BIGINT, EQUIPE2_IDEQUIPE BIGINT, POULE_IDPOULE BIGINT, TABLEAUELIMINATION_IDTABLEAUELIMINATION BIGINT, ECHEANCIER_IDECHEANCIER BIGINT, PRIMARY KEY (IDMATCH))
CREATE TABLE TABLEAU (IDTABLEAU BIGINT NOT NULL, NBPAX INTEGER, VERSION BIGINT, FORMAT_ID VARCHAR(36), TOURNOI_IDTOURNOI BIGINT, TABLEAUELIMINTATIONS_IDTABLEAUELIMINATION BIGINT, PRIMARY KEY (IDTABLEAU))
CREATE TABLE UTILISATEUR (ID VARCHAR(36), DTYPE VARCHAR(31), ADRESSE VARCHAR(255), ADRESSE_MAIL VARCHAR(255), CODE_POSTALE INTEGER, DATE_NAISSANCE DATE, FIXE VARCHAR(255), MOBILE VARCHAR(255), MOT_DE_PASSE VARCHAR(255), NOM VARCHAR(255), PRENOM VARCHAR(255), SEXE VARCHAR(255), VILLE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE RESULTAT (IDRESULTAT BIGINT NOT NULL, RESULTATEQUIPE1 INTEGER, RESULTATEQUIPE2 INTEGER, SET INTEGER, VERSION BIGINT, EQUIPE1_IDEQUIPE BIGINT, EQUIPE2_IDEQUIPE BIGINT, MATCH_IDMATCH BIGINT, PRIMARY KEY (IDRESULTAT))
CREATE TABLE TABLEAUELIMINATION (IDTABLEAUELIMINATION BIGINT NOT NULL, VERSION BIGINT, TABLEAU_IDTABLEAU BIGINT, PRIMARY KEY (IDTABLEAUELIMINATION))
CREATE TABLE CLUB (ID VARCHAR(36), NOM VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE EQUIPE (IDEQUIPE BIGINT NOT NULL, VERSION BIGINT, ADHERENT_ID VARCHAR(36), PARTENAIRE_ID VARCHAR(36), POULE_IDPOULE BIGINT, TABLEAUELIMINATION_IDTABLEAUELIMINATION BIGINT, PRIMARY KEY (IDEQUIPE))
CREATE TABLE TOURNOI (IDTOURNOI BIGINT NOT NULL, DATETOURNOI DATE, DUREEMATCH INTEGER, DUREERECUP INTEGER, LIEU VARCHAR(255), NBTERRAIN INTEGER, NOM VARCHAR(255), VERSION BIGINT, PRIMARY KEY (IDTOURNOI))
CREATE TABLE POULE (IDPOULE BIGINT NOT NULL, NOM VARCHAR(255), VERSION BIGINT, TABLEAU_IDTABLEAU BIGINT, PRIMARY KEY (IDPOULE))
CREATE TABLE ADHERENT (ID VARCHAR(36), ISREFERENT TINYINT(1) default 0, LICENCE_FCD VARCHAR(255), LICENCE_FFBA VARCHAR(255), CATEGORIE_ID VARCHAR(36), CLUB_ID VARCHAR(36), PRIMARY KEY (ID))
CREATE TABLE FORMAT (ID VARCHAR(36), LIBELLE VARCHAR(255), LIBELLECOURT VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE CLASSEMENT (ID VARCHAR(36), LIBELLE VARCHAR(255), FORMAT_ID VARCHAR(36), PRIMARY KEY (ID))
CREATE TABLE TABLEAU_ADHERENT (Tableau_IDTABLEAU BIGINT NOT NULL, adherent_ID VARCHAR(36), PRIMARY KEY (Tableau_IDTABLEAU, adherent_ID))
CREATE TABLE TABLEAU_CATEGORIE (Tableau_IDTABLEAU BIGINT NOT NULL, categories_ID VARCHAR(36), PRIMARY KEY (Tableau_IDTABLEAU, categories_ID))
CREATE TABLE TABLEAU_CLASSEMENT (Tableau_IDTABLEAU BIGINT NOT NULL, classements_ID VARCHAR(36), PRIMARY KEY (Tableau_IDTABLEAU, classements_ID))
CREATE TABLE ADHERENT_CLASSEMENT (Adherent_ID VARCHAR(36), listeClassements_ID VARCHAR(36), PRIMARY KEY (Adherent_ID, listeClassements_ID))
ALTER TABLE ECHEANCIER ADD CONSTRAINT FK_ECHEANCIER_MATCH_IDMATCH FOREIGN KEY (MATCH_IDMATCH) REFERENCES MATCHS (IDMATCH)
ALTER TABLE ECHEANCIER ADD CONSTRAINT FK_ECHEANCIER_TOURNOI_IDTOURNOI FOREIGN KEY (TOURNOI_IDTOURNOI) REFERENCES TOURNOI (IDTOURNOI)
ALTER TABLE MATCHS ADD CONSTRAINT FK_MATCHS_ECHEANCIER_IDECHEANCIER FOREIGN KEY (ECHEANCIER_IDECHEANCIER) REFERENCES ECHEANCIER (IDECHEANCIER)
ALTER TABLE MATCHS ADD CONSTRAINT FK_MATCHS_TABLEAUELIMINATION_IDTABLEAUELIMINATION FOREIGN KEY (TABLEAUELIMINATION_IDTABLEAUELIMINATION) REFERENCES TABLEAUELIMINATION (IDTABLEAUELIMINATION)
ALTER TABLE MATCHS ADD CONSTRAINT FK_MATCHS_POULE_IDPOULE FOREIGN KEY (POULE_IDPOULE) REFERENCES POULE (IDPOULE)
ALTER TABLE MATCHS ADD CONSTRAINT FK_MATCHS_EQUIPE2_IDEQUIPE FOREIGN KEY (EQUIPE2_IDEQUIPE) REFERENCES EQUIPE (IDEQUIPE)
ALTER TABLE MATCHS ADD CONSTRAINT FK_MATCHS_EQUIPE1_IDEQUIPE FOREIGN KEY (EQUIPE1_IDEQUIPE) REFERENCES EQUIPE (IDEQUIPE)
ALTER TABLE TABLEAU ADD CONSTRAINT FK_TABLEAU_FORMAT_ID FOREIGN KEY (FORMAT_ID) REFERENCES FORMAT (ID)
ALTER TABLE TABLEAU ADD CONSTRAINT FK_TABLEAU_TOURNOI_IDTOURNOI FOREIGN KEY (TOURNOI_IDTOURNOI) REFERENCES TOURNOI (IDTOURNOI)
ALTER TABLE TABLEAU ADD CONSTRAINT TABLEAU_TABLEAUELIMINTATIONS_IDTABLEAUELIMINATION FOREIGN KEY (TABLEAUELIMINTATIONS_IDTABLEAUELIMINATION) REFERENCES TABLEAUELIMINATION (IDTABLEAUELIMINATION)
ALTER TABLE RESULTAT ADD CONSTRAINT FK_RESULTAT_EQUIPE2_IDEQUIPE FOREIGN KEY (EQUIPE2_IDEQUIPE) REFERENCES EQUIPE (IDEQUIPE)
ALTER TABLE RESULTAT ADD CONSTRAINT FK_RESULTAT_EQUIPE1_IDEQUIPE FOREIGN KEY (EQUIPE1_IDEQUIPE) REFERENCES EQUIPE (IDEQUIPE)
ALTER TABLE RESULTAT ADD CONSTRAINT FK_RESULTAT_MATCH_IDMATCH FOREIGN KEY (MATCH_IDMATCH) REFERENCES MATCHS (IDMATCH)
ALTER TABLE TABLEAUELIMINATION ADD CONSTRAINT FK_TABLEAUELIMINATION_TABLEAU_IDTABLEAU FOREIGN KEY (TABLEAU_IDTABLEAU) REFERENCES TABLEAU (IDTABLEAU)
ALTER TABLE EQUIPE ADD CONSTRAINT FK_EQUIPE_TABLEAUELIMINATION_IDTABLEAUELIMINATION FOREIGN KEY (TABLEAUELIMINATION_IDTABLEAUELIMINATION) REFERENCES TABLEAUELIMINATION (IDTABLEAUELIMINATION)
ALTER TABLE EQUIPE ADD CONSTRAINT FK_EQUIPE_ADHERENT_ID FOREIGN KEY (ADHERENT_ID) REFERENCES UTILISATEUR (ID)
ALTER TABLE EQUIPE ADD CONSTRAINT FK_EQUIPE_PARTENAIRE_ID FOREIGN KEY (PARTENAIRE_ID) REFERENCES UTILISATEUR (ID)
ALTER TABLE EQUIPE ADD CONSTRAINT FK_EQUIPE_POULE_IDPOULE FOREIGN KEY (POULE_IDPOULE) REFERENCES POULE (IDPOULE)
ALTER TABLE POULE ADD CONSTRAINT FK_POULE_TABLEAU_IDTABLEAU FOREIGN KEY (TABLEAU_IDTABLEAU) REFERENCES TABLEAU (IDTABLEAU)
ALTER TABLE ADHERENT ADD CONSTRAINT FK_ADHERENT_ID FOREIGN KEY (ID) REFERENCES UTILISATEUR (ID)
ALTER TABLE ADHERENT ADD CONSTRAINT FK_ADHERENT_CLUB_ID FOREIGN KEY (CLUB_ID) REFERENCES CLUB (ID)
ALTER TABLE ADHERENT ADD CONSTRAINT FK_ADHERENT_CATEGORIE_ID FOREIGN KEY (CATEGORIE_ID) REFERENCES CATEGORIE (ID)
ALTER TABLE CLASSEMENT ADD CONSTRAINT FK_CLASSEMENT_FORMAT_ID FOREIGN KEY (FORMAT_ID) REFERENCES FORMAT (ID)
ALTER TABLE TABLEAU_ADHERENT ADD CONSTRAINT FK_TABLEAU_ADHERENT_adherent_ID FOREIGN KEY (adherent_ID) REFERENCES UTILISATEUR (ID)
ALTER TABLE TABLEAU_ADHERENT ADD CONSTRAINT FK_TABLEAU_ADHERENT_Tableau_IDTABLEAU FOREIGN KEY (Tableau_IDTABLEAU) REFERENCES TABLEAU (IDTABLEAU)
ALTER TABLE TABLEAU_CATEGORIE ADD CONSTRAINT FK_TABLEAU_CATEGORIE_Tableau_IDTABLEAU FOREIGN KEY (Tableau_IDTABLEAU) REFERENCES TABLEAU (IDTABLEAU)
ALTER TABLE TABLEAU_CATEGORIE ADD CONSTRAINT FK_TABLEAU_CATEGORIE_categories_ID FOREIGN KEY (categories_ID) REFERENCES CATEGORIE (ID)
ALTER TABLE TABLEAU_CLASSEMENT ADD CONSTRAINT FK_TABLEAU_CLASSEMENT_Tableau_IDTABLEAU FOREIGN KEY (Tableau_IDTABLEAU) REFERENCES TABLEAU (IDTABLEAU)
ALTER TABLE TABLEAU_CLASSEMENT ADD CONSTRAINT FK_TABLEAU_CLASSEMENT_classements_ID FOREIGN KEY (classements_ID) REFERENCES CLASSEMENT (ID)
ALTER TABLE ADHERENT_CLASSEMENT ADD CONSTRAINT FK_ADHERENT_CLASSEMENT_listeClassements_ID FOREIGN KEY (listeClassements_ID) REFERENCES CLASSEMENT (ID)
ALTER TABLE ADHERENT_CLASSEMENT ADD CONSTRAINT FK_ADHERENT_CLASSEMENT_Adherent_ID FOREIGN KEY (Adherent_ID) REFERENCES UTILISATEUR (ID)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
