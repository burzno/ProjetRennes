CREATE TABLE UTILISATEUR (IDUTILISATEUR BIGINT NOT NULL, DISCRIMINATOR VARCHAR(31), ADRESSE VARCHAR(255), ADRESSEMAIL VARCHAR(255), CODEPOSTALE INTEGER, DATENAISSANCE DATE, FIXE VARCHAR(255), MOBILE VARCHAR(255), MOTDEPASSE VARCHAR(255), NOM VARCHAR(255), PRENOM VARCHAR(255), SEXE VARCHAR(255), VERSION BIGINT, VILLE VARCHAR(255), PROFIL_IDPROFIL BIGINT, PRIMARY KEY (IDUTILISATEUR))
CREATE TABLE ADHERENT (IDUTILISATEUR BIGINT NOT NULL, CATEGORIE VARCHAR(255), LICENCEFCD VARCHAR(255), LICENCEFFBA VARCHAR(255), REFERENT TINYINT(1) default 0, CLUB_IDCLUB BIGINT, CLASSEMENT_IDCLASSEMENT BIGINT, PRIMARY KEY (IDUTILISATEUR))
CREATE TABLE CLASSEMENTFFBA (IDCLASSEMENT BIGINT NOT NULL, CLASSEMENT LONGBLOB, VERSION BIGINT, PRIMARY KEY (IDCLASSEMENT))
CREATE TABLE CLUB (IDCLUB BIGINT NOT NULL, NOMCLUB VARCHAR(255), VERSION BIGINT, PRIMARY KEY (IDCLUB))
CREATE TABLE PROFIL (IDPROFIL BIGINT NOT NULL, LIBELLEPROFIL VARCHAR(255), VERSION BIGINT, PRIMARY KEY (IDPROFIL))
CREATE TABLE ECHEANCIER (IDECHEANCIER BIGINT NOT NULL, HORAIRE DATETIME, VERSION BIGINT, TOURNOI_IDTOURNOI BIGINT, MATCH_IDMATCH BIGINT, PRIMARY KEY (IDECHEANCIER))
CREATE TABLE EQUIPE (IDEQUIPE BIGINT NOT NULL, VERSION BIGINT, ADHERENT_IDUTILISATEUR BIGINT, PARTENAIRE_IDUTILISATEUR BIGINT, POULE_IDPOULE BIGINT, TABLEAUELIMINATION_IDTABLEAUELIMINATION BIGINT, PRIMARY KEY (IDEQUIPE))
CREATE TABLE MATCHS (IDMATCH BIGINT NOT NULL, VERSION BIGINT, EQUIPE1_IDEQUIPE BIGINT, EQUIPE2_IDEQUIPE BIGINT, POULE_IDPOULE BIGINT, TABLEAUELIMINATION_IDTABLEAUELIMINATION BIGINT, ECHEANCIER_IDECHEANCIER BIGINT, PRIMARY KEY (IDMATCH))
CREATE TABLE POULE (IDPOULE BIGINT NOT NULL, NOM VARCHAR(255), VERSION BIGINT, TABLEAU_IDTABLEAU BIGINT, PRIMARY KEY (IDPOULE))
CREATE TABLE RESULTAT (IDRESULTAT BIGINT NOT NULL, RESULTATEQUIPE1 INTEGER, RESULTATEQUIPE2 INTEGER, set_num INTEGER, VERSION BIGINT, EQUIPE1_IDEQUIPE BIGINT, EQUIPE2_IDEQUIPE BIGINT, MATCH_IDMATCH BIGINT, PRIMARY KEY (IDRESULTAT))
CREATE TABLE TABLEAU (IDTABLEAU BIGINT NOT NULL, CATEGORIES LONGBLOB, CLASSEMENTS LONGBLOB, FORMAT VARCHAR(255), NBPAX INTEGER, VERSION BIGINT, TOURNOI_IDTOURNOI BIGINT, TABLEAUELIMINTATIONS_IDTABLEAUELIMINATION BIGINT, PRIMARY KEY (IDTABLEAU))
CREATE TABLE TABLEAUELIMINATION (IDTABLEAUELIMINATION BIGINT NOT NULL, VERSION BIGINT, TABLEAU_IDTABLEAU BIGINT, PRIMARY KEY (IDTABLEAUELIMINATION))
CREATE TABLE TOURNOI (IDTOURNOI BIGINT NOT NULL, DATETOURNOI DATE, DUREEMATCH INTEGER, DUREERECUP INTEGER, LIEU VARCHAR(255), NBTERRAIN INTEGER, NOM VARCHAR(255), VERSION BIGINT, PRIMARY KEY (IDTOURNOI))
CREATE TABLE TABLEAU_ADHERENT (Tableau_IDTABLEAU BIGINT NOT NULL, adherent_IDUTILISATEUR BIGINT NOT NULL, PRIMARY KEY (Tableau_IDTABLEAU, adherent_IDUTILISATEUR))
ALTER TABLE UTILISATEUR ADD CONSTRAINT FK_UTILISATEUR_PROFIL_IDPROFIL FOREIGN KEY (PROFIL_IDPROFIL) REFERENCES PROFIL (IDPROFIL)
ALTER TABLE ADHERENT ADD CONSTRAINT FK_ADHERENT_CLASSEMENT_IDCLASSEMENT FOREIGN KEY (CLASSEMENT_IDCLASSEMENT) REFERENCES CLASSEMENTFFBA (IDCLASSEMENT)
ALTER TABLE ADHERENT ADD CONSTRAINT FK_ADHERENT_CLUB_IDCLUB FOREIGN KEY (CLUB_IDCLUB) REFERENCES CLUB (IDCLUB)
ALTER TABLE ADHERENT ADD CONSTRAINT FK_ADHERENT_IDUTILISATEUR FOREIGN KEY (IDUTILISATEUR) REFERENCES UTILISATEUR (IDUTILISATEUR)
ALTER TABLE ECHEANCIER ADD CONSTRAINT FK_ECHEANCIER_MATCH_IDMATCH FOREIGN KEY (MATCH_IDMATCH) REFERENCES MATCHS (IDMATCH)
ALTER TABLE ECHEANCIER ADD CONSTRAINT FK_ECHEANCIER_TOURNOI_IDTOURNOI FOREIGN KEY (TOURNOI_IDTOURNOI) REFERENCES TOURNOI (IDTOURNOI)
ALTER TABLE EQUIPE ADD CONSTRAINT FK_EQUIPE_TABLEAUELIMINATION_IDTABLEAUELIMINATION FOREIGN KEY (TABLEAUELIMINATION_IDTABLEAUELIMINATION) REFERENCES TABLEAUELIMINATION (IDTABLEAUELIMINATION)
ALTER TABLE EQUIPE ADD CONSTRAINT FK_EQUIPE_PARTENAIRE_IDUTILISATEUR FOREIGN KEY (PARTENAIRE_IDUTILISATEUR) REFERENCES UTILISATEUR (IDUTILISATEUR)
ALTER TABLE EQUIPE ADD CONSTRAINT FK_EQUIPE_ADHERENT_IDUTILISATEUR FOREIGN KEY (ADHERENT_IDUTILISATEUR) REFERENCES UTILISATEUR (IDUTILISATEUR)
ALTER TABLE EQUIPE ADD CONSTRAINT FK_EQUIPE_POULE_IDPOULE FOREIGN KEY (POULE_IDPOULE) REFERENCES POULE (IDPOULE)
ALTER TABLE MATCHS ADD CONSTRAINT FK_MATCHS_ECHEANCIER_IDECHEANCIER FOREIGN KEY (ECHEANCIER_IDECHEANCIER) REFERENCES ECHEANCIER (IDECHEANCIER)
ALTER TABLE MATCHS ADD CONSTRAINT FK_MATCHS_TABLEAUELIMINATION_IDTABLEAUELIMINATION FOREIGN KEY (TABLEAUELIMINATION_IDTABLEAUELIMINATION) REFERENCES TABLEAUELIMINATION (IDTABLEAUELIMINATION)
ALTER TABLE MATCHS ADD CONSTRAINT FK_MATCHS_POULE_IDPOULE FOREIGN KEY (POULE_IDPOULE) REFERENCES POULE (IDPOULE)
ALTER TABLE MATCHS ADD CONSTRAINT FK_MATCHS_EQUIPE2_IDEQUIPE FOREIGN KEY (EQUIPE2_IDEQUIPE) REFERENCES EQUIPE (IDEQUIPE)
ALTER TABLE MATCHS ADD CONSTRAINT FK_MATCHS_EQUIPE1_IDEQUIPE FOREIGN KEY (EQUIPE1_IDEQUIPE) REFERENCES EQUIPE (IDEQUIPE)
ALTER TABLE POULE ADD CONSTRAINT FK_POULE_TABLEAU_IDTABLEAU FOREIGN KEY (TABLEAU_IDTABLEAU) REFERENCES TABLEAU (IDTABLEAU)
ALTER TABLE RESULTAT ADD CONSTRAINT FK_RESULTAT_EQUIPE2_IDEQUIPE FOREIGN KEY (EQUIPE2_IDEQUIPE) REFERENCES EQUIPE (IDEQUIPE)
ALTER TABLE RESULTAT ADD CONSTRAINT FK_RESULTAT_EQUIPE1_IDEQUIPE FOREIGN KEY (EQUIPE1_IDEQUIPE) REFERENCES EQUIPE (IDEQUIPE)
ALTER TABLE RESULTAT ADD CONSTRAINT FK_RESULTAT_MATCH_IDMATCH FOREIGN KEY (MATCH_IDMATCH) REFERENCES MATCHS (IDMATCH)
ALTER TABLE TABLEAU ADD CONSTRAINT FK_TABLEAU_TOURNOI_IDTOURNOI FOREIGN KEY (TOURNOI_IDTOURNOI) REFERENCES TOURNOI (IDTOURNOI)
ALTER TABLE TABLEAU ADD CONSTRAINT TABLEAU_TABLEAUELIMINTATIONS_IDTABLEAUELIMINATION FOREIGN KEY (TABLEAUELIMINTATIONS_IDTABLEAUELIMINATION) REFERENCES TABLEAUELIMINATION (IDTABLEAUELIMINATION)
ALTER TABLE TABLEAUELIMINATION ADD CONSTRAINT FK_TABLEAUELIMINATION_TABLEAU_IDTABLEAU FOREIGN KEY (TABLEAU_IDTABLEAU) REFERENCES TABLEAU (IDTABLEAU)
ALTER TABLE TABLEAU_ADHERENT ADD CONSTRAINT FK_TABLEAU_ADHERENT_adherent_IDUTILISATEUR FOREIGN KEY (adherent_IDUTILISATEUR) REFERENCES UTILISATEUR (IDUTILISATEUR)
ALTER TABLE TABLEAU_ADHERENT ADD CONSTRAINT FK_TABLEAU_ADHERENT_Tableau_IDTABLEAU FOREIGN KEY (Tableau_IDTABLEAU) REFERENCES TABLEAU (IDTABLEAU)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
